\chapter{库和模块}

%==============================================================================
\section{基础库}

标准库中有一些可以直接使用的函数和类，它们为 Berry 程序提供基础的服务，因此也被称为基础库。基础库中的函数和类都是全局作用域可见的，因此可以在任何地方使用。不要定义和基础库中函数或类相同名称的变量，这样做会导致无法引用基础库中的函数和类。

\subsection{函数}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{print} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
print(...)
\end{lstlisting}

\paragraph{说明}
该函数会将输入的参数打印到标准输出设备。该函数可以接受任何类型、任何数量的参数。所有的类型都会直接打印它的值，而对于实例，该函数会检查实例是否有 \texttt{tostring()} 方法，如果有则打印该实例调用 \texttt{tostring()} 方法后的返回值，否则打印实例的地址。

\paragraph{例子}
\begin{lstlisting}[language=berry, numbers=none]
print('Hello World!') # Hello World!
print([1, 2, '3'])    # [1, 2, '3']
print(print)          # <function: 0x561092293780>
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{input} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
input()
input(prompt)
\end{lstlisting}

\paragraph{说明}
\texttt{input} 函数用于从标准输入设备输入一行字符串。该函数可以使用 \texttt{prompt} 参数作为输入提示，\texttt{prompt} 参数必须为字符串类型。
调用 \texttt{input} 函数后会从键盘缓冲区中读取字符，直到遇到换行字符为止。

\paragraph{例子}
\begin{lstlisting}[language=berry, numbers=none]
input('please enter a string: ') # please enter a string: 
\end{lstlisting}
\texttt{input} 函数在按下``Enter''键以后才会返回，因此程序``卡住''并不是错误。

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{type} 函数} \label{section::baselib_type}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
type(value)
\end{lstlisting}

\begin{itemize}
    \item \emph{value}：输入参数（期望获取它的类型）。
    \item \emph{return value}：说明参数类型的字符串。
\end{itemize}

\paragraph{说明}
该函数接收一个任意类型的参数并返回参数的类型。返回值是说明参数类型的字符串。表\ref{tab::type_return_list}给出了主要参数类型对应的返回值：
\begin{table}[htb]
    \centering
    \setlength{\tabcolsep}{6mm}
    \begin{tabular}{cc!{\vrule width 1pt}cc} \Xhline{1pt}
        \makecell{\textbf{参数类型}} & \makecell{\textbf{返回值}} & \makecell{\textbf{参数类型}} & \makecell{\textbf{返回值}} \\ \Xhline{1pt}
        Nil & \texttt{'nil'} & Integer & \texttt{'int'} \\
        Real & \texttt{'real'} & Boolean & \texttt{'bool'} \\
        Function & \texttt{'function'} & Class & \texttt{'class'} \\
        String & \texttt{'string'} & Instance & \texttt{'instance'} \\
        \Xhline{1pt}
    \end{tabular}
    \caption{类型名对照表}
    \label{tab::type_return_list}
\end{table}

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
type(0)         # 'int'
type(0.5)       # 'real'
type('hello')   # 'string'
type(print)     # 'function'
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{classname} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
classname(object)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的类名（字符串）。因此参数必须是一个类或者实例，其他类型的参数将返回 \texttt{nil}。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
classname(list)     # 'list'
classname(list())   # 'list'
classname({})       # 'map'
classname(0)        # nil
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{str} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
str(value)
\end{lstlisting}

\paragraph{说明}
该函数将参数转化为字符串并返回。 \texttt{str} 函数可以接受任意类型的参数并转化。当参数类型为实例时将检查该实例是否有 \texttt{tostring()} 方法，如果有将使用该方法的返回值，否则将实例的地址转化为字符串。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
str(0)  # '0'
str(nil)  # 'nil'
str(list)  # 'list'
str([0, 1, 2])  # '[0, 1, 2]'
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{number} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
number(value)
\end{lstlisting}

\paragraph{说明}
该函数将输入的字符串或者数字转化为数值类型返回。如果输入参数为整数或者实数则直接返回。如果是字符串则尝试将字符串按十进制格式转化为数值，转化时会自动判断整数或实数。其他类型返回 \texttt{nil}。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
number(5)       # 5
number('45.6')  # 45.6
number('50')    # 50
number(list)    # nil
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{int} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
int(value)
\end{lstlisting}

\paragraph{说明}
该函数将输入的字符串或者数字转化为整数并返回。如果输入参数为整数则直接返回，如果是实数则舍弃小数部分。如果是字符串则尝试将字符串按十进制转化为整数。其他类型返回 \texttt{nil}。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
int(5)       # 5
int(45.6)    # 45
int('50')    # 50
int(list)    # nil
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{real} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
real(value)
\end{lstlisting}

\paragraph{说明}
该函数将输入的字符串或者数字转化为实数并返回。如果输入参数为实数则直接返回，如果是整数则转化为实数。如果是字符串则尝试将字符串按十进制转化为实数。其他类型返回 \texttt{nil}。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
real(5)       # 5, type(real(5)) → 'real'
real(45.6)    # 45.6
real('50.5')  # 50.5
real(list)    # nil
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{length} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
length(value)
\end{lstlisting}

\paragraph{说明}
该函数返回输入字符串的长度。如果输入参数不为字符串则返回0。字符串的长度以字节计算。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
length(10)          # 0
length('s')         # 1
length('string')    # 6
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{super} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
super(object)
\end{lstlisting}

\paragraph{说明}
该函数返回实例的父对象。当你将一个派生类实例化时，会同时实例化它的基类。访问基类的实例（也就是父对象）时需要使用 \texttt{super} 函数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
class mylist : list end
l = mylist()    # classname(l) --> 'mylist'
sl = super(l)   # classname(sl) --> 'list'
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{assert} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
assert(expression)
\end{lstlisting}

\paragraph{说明}
该函数用于实现断言功能。\texttt{assert} 函数接受一个参数，当参数的值为 \texttt{false} 或者 \texttt{nil} 时该函数将会触发一个断言错误，否则该函数不会产生任何效果。需要注意的是，即使参数是逻辑运算中等效为 \texttt{false} 的值（例如 \texttt{0}）也不会触发断言错误。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
assert(false)   # assert failed
assert(nil)     # assert failed
assert()        # assert failed
assert(true)    # pass
assert(0)       # pass
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{compile} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
compile(string)
compile(string, 'string')
compile(filename, 'file')
\end{lstlisting}

\paragraph{说明}
该函数将编译 Berry 源代码编译为一个函数，源代码可以是一个字符串，也可以是一个文本文件。\texttt{compile} 函数的第一个参数为一个字符串，第二个参数为字符串 \texttt{'string'} 或 \texttt{'file'}。当第二个参数为 \texttt{'string'} 或没有第二个参数时，\texttt{compile} 函数会将第一个参数作为源代码进行编译。当第二个参数为 \texttt{'file'} 时，\texttt{compile} 函数将会编译第一个参数对应的文件。如果编译成功，\texttt{compile} 将会返回编译生成的函数，否则返回 \texttt{nil}。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
compile('print(\'Hello World!\')')() # Hello World!
compile('test.be', 'file')
\end{lstlisting}

%==============================================================================

\subsection{\texttt{list} 类}

\subsection{\texttt{map} 类}

\subsection{\texttt{range} 类}

%==============================================================================
\section{JSON模块}

JSON是一种轻量级的数据交换格式，它是JavaScript的一个子集，它使用完全独立于编程语言的文本格式来表示数据。Berry提供了JSON模块来提供对JSON数据的支持。JSON模块只包含有两个函数 \texttt{load} 和 \texttt{dump}，它们分别用于将JSON字符串解析乘Berry对象和将一个Berry对象序列化为JSON文本。

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{load} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
load(text)
\end{lstlisting}

\paragraph{说明}
该函数用于将输入的JSON文本转化为Berry对象并返回。转化的规则如表\ref{tab::json2berry_rule}所示。如果JSON文本存在语法错误，该函数将返回 \texttt{nil}。
\begin{table}[htb]
    \centering
    \setlength{\tabcolsep}{18mm}
    \begin{tabular}{cc} \Xhline{1pt}
        \makecell{\textbf{JSON类型}} & \makecell{\textbf{Berry类型}} \\ \Xhline{1pt}
        \texttt{null} & \texttt{nil} \\
        \texttt{number} & \texttt{integer} or \texttt{real} \\
        \texttt{string} & \texttt{string} \\
        \texttt{array} & \texttt{list} \\
        \texttt{object} & \texttt{map} \\
        \Xhline{1pt}
    \end{tabular}
    \caption{JSON类型到Berry类型的转换规则}
    \label{tab::json2berry_rule}
\end{table}

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
import json
json.load('0')    # 0
json.load('[{"name": "liu", "age": 13}, 10.0]') # [{'name': 'liu', 'age': 13}, 10]
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{dump} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
dump(object， ['format'])
\end{lstlisting}

\paragraph{说明}
该函数用于将Berry对象序列化为JSON文本。序列化的转换规则如表\ref{tab::berry2json_rule}所示。
\begin{table}[htb]
    \centering
    \setlength{\tabcolsep}{18mm}
    \begin{tabular}{cc} \Xhline{1pt}
        \makecell{\textbf{Berry类型}} & \makecell{\textbf{JSON类型}} \\ \Xhline{1pt}
        \texttt{nil} & \texttt{null} \\
        \texttt{integer} & \texttt{number} \\
        \texttt{real} & \texttt{number} \\
        \texttt{list} & \texttt{array} \\
        \texttt{map} & \texttt{object} \\
        \texttt{map}的键 & \texttt{string} \\
        其他 & \texttt{string} \\
        \Xhline{1pt}
    \end{tabular}
    \caption{Berry类型到JSON类型的转换规则}
    \label{tab::berry2json_rule}
\end{table}

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
import json
json.dump('string')     # '"string"'
json.dump('string')     # '"string"'
json.dump({0: 'item 0', 'list': [0, 1, 2]}) # '{"0":"item 0","list":[0,1,2]}'
json.dump({0: 'item 0', 'list': [0, 1, 2], 'func': print}, 'format')
#-
{
    "0": "item 0",
    "list": [
        0,
        1,
        2
    ],
    "func": "<function: 00410310>"
}
-#
\end{lstlisting}

\section{Math 模块}

这个模块用于提供数学函数的支持，如常用的三角函数、开方函数等。使用 math 模块要先使用 \texttt{import math} 语句来导入。本节所有的例子都假设该模块已经被正确导入。

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{pi} 常量}

\paragraph{说明}
圆周率 $\pi$ 的近似值，实数类型，约等于 $3.141592654$。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.pi # 3.14159
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{abs} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
abs(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的绝对值，参数可以是整数或实数。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{abs} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.abs(-1)    # 1
math.abs(1.5)   # 1.5
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{ceil} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
ceil(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的向上取整值，也就是大于或者等参数的最小整数值，参数可以是整数或实数。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{ceil} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.ceil(-1.2) # -1
math.ceil(1.5)  # 2
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{floor} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
floor(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的向下取整值，也就是不大于参数的最大整数值，参数可以是整数或实数。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{floor} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.floor(-1.2) # -2
math.floor(1.5)  # 1
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{sin} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
sin(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的正弦函数值，参数可以是整数或实数，单位为弧度。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{sin} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.sin(1)             # 0.841471
math.sin(math.pi * 0.5) # 1
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{cos} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
cos(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的余弦函数值，参数可以是整数或实数，单位为弧度。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{cos} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.cos(1)         # 0.540302
math.cos(math.pi)   # -1
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{tan} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
tan(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的正切函数值，参数可以是整数或实数，单位为弧度。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{tan} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.tan(1)             # 1.55741
math.tan(math.pi / 4)   # 1
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{asin} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
asin(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的反正弦函数值，参数可以是整数或实数，取值范围为 $[-1,1]$。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{asin} 函数的返回类型是实数，单位为弧度。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.asin(1)                    # 1.5708
math.asin(0.5) * 180 / math.pi  # 30
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{acos} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
acos(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的反余弦函数值，参数可以是整数或实数，取值范围为 $[-1,1]$。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{acos} 函数的返回类型是实数，单位为弧度。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.acos(1)    # 0
math.acos(0)    # 1.5708
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{atan} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
atan(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的反正切函数值，参数可以是整数或实数，取值范围为 $[-\infty,+\infty]$。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{atan} 函数的返回类型是实数，单位为弧度。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.atan(1) * 180 / math.pi    # 45
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{sinh} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
sinh(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的双曲正弦函数值。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{sinh} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.sinh(1) # 1.1752
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{cosh} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
cosh(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的双曲余弦函数值。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{cosh} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.cosh(1) # 1.54308
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{tanh} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
tanh(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的双曲正切函数值。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{tanh} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.tanh(1) # 0.761594
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{sqrt} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
sqrt(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的平方根。该函数的参数不能是负数。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{sqrt} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.sqrt(2) # 1.41421
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{exp} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
exp(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的以自然常数 $e$ 为底的指数函数值。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{exp} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.exp(1) # 2.71828
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{log} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
log(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的自然对数。参数必须是一个正数。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{log} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.log(2.718282) # 1
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{log10} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
log10(value)
\end{lstlisting}

\paragraph{说明}
该函数返回参数的以 $10$ 为底的对数。参数必须是一个正数。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{log10} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.log10(10) # 1
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{deg} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
deg(value)
\end{lstlisting}

\paragraph{说明}
该函数用于将弧度转换为角度。参数的单位为弧度。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{deg} 函数的返回类型是实数，单位为角度。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.deg(math.pi) # 180
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{rad} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
rad(value)
\end{lstlisting}

\paragraph{说明}
该函数用于将角度转换为弧度。参数的单位为角度。如果没有参数，该函数返回 \texttt{0}，如果有多个参数则只处理第一个参数。\texttt{rad} 函数的返回类型是实数，单位为弧度。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.rad(180) # 3.14159
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{pow} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
pow(x, y)
\end{lstlisting}

\paragraph{说明}
该函数的返回值为表达式 $x^y$ 的结果，即参数 \texttt{x} 的 \texttt{y} 次方。如果参数不全，该函数返回 \texttt{0}，如果有多余的参数则只处理前两个参数。\texttt{pow} 函数的返回类型是实数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.pow(2, 3) # 8
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{srand} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
srand(value)
\end{lstlisting}

\paragraph{说明}
该函数用于设置随机数发生器的种子。参数的类型应当是一个整数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.srand(2)
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\libtitle{\texttt{rand} 函数}

\paragraph{用法}
\begin{lstlisting}[language=berry, numbers=none]
rand()
\end{lstlisting}

\paragraph{说明}
该函数用于获取一个随机整数。

\paragraph{示例}
\begin{lstlisting}[language=berry, numbers=none]
math.rand()
\end{lstlisting}

\section{String 模块}

\section{OS 模块}
